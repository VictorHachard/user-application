<div *ngFor="let response of alertManagerManager.responseList">
  <div class="alert {{ response.alert }}" role="alert">
    {{ response.message }}
  </div>
</div>

<h2 class="border-bottom">Public profile</h2>

<form class="mb-3" [formGroup]="profileForm" (ngSubmit)="profile()">
  <div class="mb-3">
    <img *ngIf="!trustedUrl" [src]="'http://localhost:8080/api/v1/image/' + user.profileImage" class="mb-2 rounded-circle" height="100" width="100" style="object-fit: cover;">
    <img [src]="trustedUrl" class="mb-2 rounded-circle" height="100" width="100" style="object-fit: cover;">
    <input class="form-control" formControlName="fileSource" (change)="onFileChange($event)" type="file">
  </div>
  <div class="row g-3 mb-3">
    <div class="col">
      <label class="form-label">First name</label>
      <input type="text" formControlName="firstName" class="form-control">
    </div>
    <div class="col">
      <label class="form-label">Middle name</label>
      <input type="text" formControlName="middleName" class="form-control">
    </div>
    <div class="col">
      <label class="form-label">Last name</label>
      <input type="text" formControlName="lastName" class="form-control">
    </div>
  </div>
  <div class="mb-3">
    <label class="form-label">Bio</label>
    <textarea class="form-control" formControlName="biography" rows="3"></textarea>
  </div>
  <div class="mb-3">
    <label class="form-label">URL</label>
    <input type="text" formControlName="url" class="form-control">
  </div>
  <p>All of the fields on this page are optional and can be deleted at any time, and by filling them out, you're giving us consent to share this data wherever your user profile appears. Please see our privacy statement to learn more about how we use this information.</p>
  <button type="submit" [disabled]="profileForm.invalid" class="btn btn-primary">Update profile</button>
</form>
